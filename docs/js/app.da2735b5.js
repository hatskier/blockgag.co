(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)o=r[d],i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09d1":function(t,e,n){t.exports=n.p+"img/github-icon.ab420948.svg"},1:function(t,e){},1564:function(t,e,n){"use strict";var a=n("ac42"),i=n.n(a);i.a},"18a3":function(t,e,n){},"1fdc":function(t,e,n){"use strict";var a=n("427d"),i=n.n(a);i.a},2:function(t,e){},"2d7e":function(t,e,n){"use strict";var a=n("622f"),i=n.n(a);i.a},3:function(t,e){},"321d":function(t,e,n){},3785:function(t,e,n){},"37e7":function(t,e,n){"use strict";var a=n("321d"),i=n.n(a);i.a},"380c":function(t,e,n){"use strict";var a=n("437c"),i=n.n(a);i.a},"3d50":function(t,e,n){"use strict";var a=n("5b27"),i=n.n(a);i.a},4:function(t,e){},4227:function(t,e,n){"use strict";var a=n("c4b4"),i=n.n(a);i.a},"427d":function(t,e,n){},"437c":function(t,e,n){},"469d":function(t,e,n){},"4a5d":function(t,e,n){"use strict";var a=n("18a3"),i=n.n(a);i.a},5:function(t,e){},5001:function(t,e,n){"use strict";var a=n("ffbb"),i=n.n(a);i.a},5235:function(t,e,n){"use strict";var a=n("469d"),i=n.n(a);i.a},"55e2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("8c4f"),s=n("caf9"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",[n("NavBar"),t.BlockstackUtils.pendingAuth?t._e():n("router-view",{staticClass:"view"}),t.BlockstackUtils.pendingAuth?n("h2",{staticClass:"centered authentication-in-progress-title"},[t._v("\n      Authentication in progress...\n    ")]):t._e()],1)])},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navbar"}},[n("header",{staticClass:"mdc-top-app-bar mdc-top-app-bar--dense"},[n("div",{staticClass:"mdc-top-app-bar__row"},[t._m(0),n("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end",attrs:{role:"toolbar"}},[t.State.path.includes("posts")?n("div",{staticClass:"navbar-el"},[n("button",{staticClass:"mdc-button mdc-button--outlined",on:{click:function(e){return t.toggleLiveEmotions()}}},[n("div",{staticClass:"mdc-button__ripple"}),t.State.liveEmotionsEnabled?t._e():n("span",[t._v("\n                TRY LIVE EMOTIONS\n              ")]),t.State.liveEmotionsEnabled?n("span",[t._v("\n                STOP LIVE EMOTIONS\n              ")]):t._e()])]):t._e(),n("div",{staticClass:"navbar-el"},[t.signedIn?n("a",{staticClass:"mdc-icon-button material-icons white add-photo-icon",attrs:{href:"#/add"}},[t._v("\n            add_photo_alternate\n          ")]):t._e()]),n("div",{staticClass:"navbar-el"},[n("a",{staticClass:"mdc-icon-button material-icons white add-photo-icon",attrs:{id:"night-mode-icon"},on:{click:function(e){return t.toggleDarkMode()}}},[t._v("\n            brightness_4\n          ")])]),n("div",{staticClass:"navbar-el"},[n("div",{staticClass:"account-circle mdc-menu-surface--anchor",on:{click:function(e){return t.openMenu()}}},[t.signedIn&&t.userAvatar?n("img",{attrs:{id:"avatar-image",src:t.userAvatar}}):t._e(),t.signedIn&&!t.userAvatar?n("div",{staticClass:"username-letter"},[t._v("\n              "+t._s(t.usernameFirstLetter)+"\n            ")]):t._e(),n("Menu",{attrs:{onSettingsClicked:t.openSettings,onLogOutClicked:t.logOut}})],1),t.signedIn?t._e():n("button",{staticClass:"mdc-button mdc-button--raised sign-in-button",on:{click:function(e){return t.openSignInModal()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n              SIGN IN\n          ")])])])])]),n("SignInModal",{attrs:{onLogInButtonClicked:t.logIn}})],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},[a("a",{attrs:{href:"#/"}},[a("img",{attrs:{id:"navbar-logo",src:n("d266")}})]),a("a",{staticClass:"normal-text",attrs:{href:"#/"}},[a("span",{staticClass:"mdc-top-app-bar__title white"},[t._v("GAG")])])])}],u=(n("96cf"),n("3b8d")),d=n("e4d3"),p=n.n(d),f=n("f9d6"),g=n("bc3a"),m=n.n(g),v=n("d225"),h=n("308d"),b=n("6bb5"),_=n("4e2b"),y=n("bd86"),k=function(t){function e(){return Object(v["a"])(this,e),Object(h["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(_["a"])(e,t),e}(f["Model"]);Object(y["a"])(k,"className","BlockgagPost"),Object(y["a"])(k,"schema",{originalUrl:{type:Boolean,decrypted:!0},description:{type:String,decrypted:!0},type:{type:String,decrypted:!0},imgGaiaPublicUrl:{type:String,decrypted:!0},tags:{type:Array,decrypted:!0}}),Object(y["a"])(k,"defaults",{type:"img"});var C=k,w="https://radiks.dece.app",S=new p.a.AppConfig(["store_write","publish_data","email"]),x=new p.a.UserSession({appConfig:S});Object(f["configure"])({userSession:x,apiServer:w});var T={pendingAuth:!1,isUserSignedIn:function(){return x.isUserSignedIn()},getUserSession:function(){return x},getUserName:function(){return x.loadUserData().username},getUserAvatar:function(){if(x.isUserSignedIn()){var t=x.loadUserData();if(t.profile&&t.profile.image&&t.profile.image[0])return t.profile.image[0].contentUrl}return null},checkAuth:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(x=Object(f["getConfig"])().userSession,!x.isSignInPending()){t.next=14;break}return t.prev=2,this.pendingAuth=!0,t.next=6,x.handlePendingSignIn();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.error(t.t0);case 11:return t.prev=11,this.pendingAuth=!1,t.finish(11);case 14:if(!x.isUserSignedIn()){t.next=17;break}return t.next=17,f["User"].createWithCurrentUser();case 17:case"end":return t.stop()}},t,this,[[2,8,11,14]])}));function e(){return t.apply(this,arguments)}return e}(),signIn:function(){x.redirectToSignIn()},signOut:function(){x.signUserOut(),location.reload()},getAllPosts:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=w+"/radiks/models/find?radiksType=BlockgagPost",t.next=3,m.a.get(e);case 3:return n=t.sent,a=n.data,t.abrupt("return",a.results||[]);case 6:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),savePostToGaia:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.putFile(e,n,{encrypt:!1});case 2:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),addNewPost:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e,n){var a,i,s,o,r,c,l,u,d,p,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.type,i=e.originalUrl,s=e.data,o=e.description,r=e.tags,c=n.onSavedToGaia,l=n.onPostCreated,u=new C({type:a,originalUrl:i,description:o,tags:r}),c(),d=u._id,t.next=7,this.savePostToGaia(d,s);case 7:return t.next=9,x.getFileUrl(d);case 9:return p=t.sent,console.log(p),u.update({imgGaiaPublicUrl:p}),console.log(u),t.next=15,u.save();case 15:return l(),f="https://blockgag.co#/post/".concat(u._id),t.abrupt("return",f);case 18:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-menu mdc-menu-surface"},[n("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"}},[n("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem"},on:{click:function(e){return t.onLogOutClicked()}}},[t._m(0)])])])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdc-list-item__text"},[n("i",{staticClass:"material-icons"},[t._v("\n          directions_walk\n        ")]),t._v("\n        Log out\n      ")])}],I={props:{onSettingsClicked:Function,onLogOutClicked:Function}},U=I,j=n("2877"),L=Object(j["a"])(U,O,E,!1,null,null,null),B=L.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"Log in to add posts"}},[n("p",{staticClass:"blockstack-description"},[t._v("\n    BlockGAG is built using\n      "),n("a",{attrs:{target:"_blank",href:"https://blockstack.org/try-blockstack"}},[t._v("Blockstack")]),t._v("\n    infrastructure,\n    allowing us to provide decentralized encrypted storage.\n  ")]),n("p",{staticClass:"blockstack-description"},[t._v("\n    Blockstack ID provides user-controlled login and storage\n    that enable you to take back control of your identity and data.\n  ")]),n("button",{staticClass:"mdc-button mdc-button--raised continue-with-blockstack-button",on:{click:function(e){return t.onLogInButtonClicked()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n      LOG IN TO BLOCKSTACK\n  ")])])},A=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-dialog",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"}},[n("div",{staticClass:"mdc-dialog__container"},[n("div",{staticClass:"mdc-dialog__surface"},[n("h2",{staticClass:"mdc-dialog__title",attrs:{id:"my-dialog-title"}},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("div",{staticClass:"mdc-dialog__content",attrs:{id:"my-dialog-content"}},[t._t("default")],2)])]),n("div",{staticClass:"mdc-dialog__scrim"})])},M=[],F={name:"Dialog",data:function(){return{}},props:{title:String},computed:{}},N=F,$=(n("1fdc"),Object(j["a"])(N,R,M,!1,null,"6dab4c7c",null)),D=$.exports,G={props:{onLogInButtonClicked:Function},components:{Dialog:D}},z=G,J=(n("5001"),Object(j["a"])(z,P,A,!1,null,"2fe7d598",null)),V=J.exports,H=(n("c5f6"),n("2ef0")),q=n.n(H),Y=(n("6b54"),{generateId:function(){return Date.now().toString()},capitalizeFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},dictToListWithIds:function(t){var e=[];for(var n in t)e.push(Object.assign({id:n},t[n]));return e}}),K={path:"",contacts:{},debts:{},syncStatus:"Synced",liveEmotionsEnabled:!1,selectedTag:"",loadStateFromBlockchain:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading state from blockchain"),t.next=3,T.getContacts();case 3:return e=t.sent,t.next=6,T.getDebts();case 6:n=t.sent,e&&a["default"].set(this,"contacts",e),n&&a["default"].set(this,"debts",n);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updateStateToBlockchain:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(e){var n,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.updateContacts,a=void 0!==n&&n,i=e.updateDebts,s=void 0!==i&&i,console.log("Updating blockchain state with contacts: ".concat(a,", with debts: ").concat(s)),t.prev=2,!a){t.next=8;break}return this.syncStatus="Syncing contacts",this.updatingStateInBlockchain=!0,t.next=8,T.saveContacts(this.contacts);case 8:if(!s){t.next=13;break}return this.syncStatus="Syncing debts",this.updatingStateInBlockchain=!0,t.next=13,T.saveDebts(this.debts);case 13:this.syncStatus="Synced",t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](2),console.error(t.t0),this.syncStatus="Syncing failed";case 20:case"end":return t.stop()}},t,this,[[2,16]])}));function e(e){return t.apply(this,arguments)}return e}(),upsertContact:function(t){var e=this.defaultUpsert(t,"contacts","Contact");return this.updateStateToBlockchain({updateContacts:!0}),e},removeContact:function(t){this.defaultRemove(t,"contacts","Contact"),this.updateStateToBlockchain({updateContacts:!0})},upsertDebt:function(t){t.amount=Number(t.amount);var e=this.defaultUpsert(t,"debts","Debt");return this.updateStateToBlockchain({updateDebts:!0}),e},removeDebt:function(t){this.defaultRemove(t,"debts","Debt"),this.updateStateToBlockchain({updateDebts:!0})},defaultUpsert:function(t,e,n){console.log("Updating ".concat(n)),console.log(t),t.id||(t.id=Y.generateId());var i=q.a.clone(t);return a["default"].set(this[e],t.id,i),i},toggleLiveEmotions:function(){var t=this.liveEmotionsEnabled;a["default"].set(this,"liveEmotionsEnabled",!t)},selectTag:function(t){a["default"].set(this,"selectedTag",t)},setPath:function(t){a["default"].set(this,"path",t)}},W=K,Q=n("704c"),X=n("0021"),Z={name:"NavBar",data:function(){return{userAvatar:T.getUserAvatar(),signedIn:T.isUserSignedIn(),modalType:"",dialog:null,State:W,route:this.$router.currentRoute}},computed:{usernameFirstLetter:function(){var t=T.getUserName();return t?t[0].toUpperCase():""}},components:{Menu:B,SignInModal:V},methods:{toggleDarkMode:function(){var t=document.getElementsByTagName("body")[0];t.classList.toggle("dark-mode")},openSignInModal:function(){var t=document.querySelector(".mdc-dialog");this.dialog=Q["a"].attachTo(t),this.modalType="signIn",this.dialog.open()},closeSignInModal:function(){this.dialog&&this.dialog.close()},openMenu:function(){var t=X["a"].attachTo(document.querySelector(".mdc-menu"));t.open=!t.open},openSettings:function(){},toggleLiveEmotions:function(){W.liveEmotionsEnabled||localStorage.liveEmotionExplanationShowed?W.toggleLiveEmotions():confirm("Live emotions is an innovative feature, which uses your web camera to analyze your emotions and calculate the time of being happy o blockgag. Note, that your video is private and we don't send it anywhere. Currently our algoithm can recognize happiness, sadness, surprise and anger")&&(localStorage.liveEmotionExplanationShowed=!0,W.toggleLiveEmotions())},logIn:function(){this.closeSignInModal(),window.localStorage.locationBeforeRedirection=location.href,window.toastr.success("Blockstack authentication started...","",{timeOut:"20000",closeButton:!1}),setTimeout(function(){T.signIn()},200)},logOut:function(){T.signOut()}}},tt=Z,et=(n("b29f"),Object(j["a"])(tt,c,l,!1,null,"ec6da244",null)),nt=et.exports;T.checkAuth().then(function(){if(localStorage.locationBeforeRedirection){var t=localStorage.locationBeforeRedirection;localStorage.removeItem("locationBeforeRedirection"),location.href=t}}),window.toastr.options={closeButton:!0,progressBar:!1,showDuration:3e3,hideDuration:10,iconClass:"hidden"};var at={name:"app",created:function(){W.setPath(this.$router.currentRoute.fullPath)},data:function(){return{BlockstackUtils:T}},watch:{$route:function(t){W.setPath(t.fullPath)}},components:{NavBar:nt}},it=at,st=(n("60bc"),n("8a5f"),n("1564"),Object(j["a"])(it,o,r,!1,null,null,null)),ot=st.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Splash"),n("Features"),n("LiveEmotionsExplanation"),n("Footer")],1)},ct=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"splash"}},[n("div",{attrs:{id:"splash-content"}},[n("h1",{staticClass:"slide-down-element",attrs:{id:"h1-title"}},[n("vue-typed-js",{attrs:{strings:["Decentralized","AI powered","Open source","Free","The best"],showCursor:!1,startDelay:100,backDelay:800,loop:!0,loopCount:1/0}},[n("span",{staticClass:"typing",attrs:{id:"title-part"}})]),n("br"),t._v("\n      source of fun\n    ")],1),t._m(0),n("div",{staticClass:"mousey",on:{click:function(e){return t.scrollToSection("features-section")}}},[n("div",{staticClass:"scroller"})])])])},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"get-started-button-container"}},[n("a",{staticClass:"mdc-button mdc-button--outlined",attrs:{href:"/#/posts/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),n("span",{staticClass:"mdc-button__label"},[t._v("\n          TRY IT NOW\n          ")])])])}],dt=n("8cb8");a["default"].use(dt["VueTypedJs"]);var pt={data:function(){return{}},created:function(){document.onscroll=function(){}},methods:{scrollToSection:function(t){var e=document.getElementById(t);e.scrollIntoView()}},components:{VueTypedJs:dt["VueTypedJs"]}},ft=pt,gt=(n("2d7e"),Object(j["a"])(ft,lt,ut,!1,null,"6530465b",null)),mt=gt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"features-section"}},[n("div",{staticClass:"mdc-layout-grid"},[n("div",{staticClass:"mdc-layout-grid__inner"},t._l(t.features,function(t){return n("Feature",{key:t.title,attrs:{title:t.title,description:t.description,icon:t.icon}})}),1)])])},ht=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-layout-grid__cell feature-container"},[n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]),n("h2",[t._v(t._s(t.title))]),n("p",{staticClass:"feature-description"},[t._v("\n    "+t._s(t.description)+"\n  ")])])},_t=[],yt={props:{title:String,description:String,icon:String}},kt=yt,Ct=(n("7b43"),Object(j["a"])(kt,bt,_t,!1,null,"bac623f0",null)),wt=Ct.exports,St={data:function(){return{features:[{title:"AI powered",description:"Optional live emotions feature can analyze your emotions and understand what makes you happy",icon:"memory"},{title:"Free",description:"It is absolutely free, thanks to Blockstack App mining program",icon:"monetization_on"},{title:"Decentralized",description:"BlockGAG is a decentralized app built on Blockstack",icon:"blur_on"},{title:"Open source",description:"All the code is published on GitHub so everyone can see it and contribute",icon:"public"},{title:"Minimalistic",description:"BlockGAG has a super simple and minimalistic design",icon:"crop_original"},{title:"Ads free",description:"Thanks to blockstack app mining program we can keep BlockGAG free without ads",icon:"thumb_up_alt"},{title:"For everyone",description:"Everyone who is signed in to blockstack can post new funny stuff",icon:"people"},{title:"Categorised",description:"You can explore different categories of FUN on blockgag",icon:"category"},{title:"Secure",description:"All your private data, like analyzed emotions and preferences, is safe and secure",icon:"security"}]}},components:{Feature:wt}},xt=St,Tt=(n("380c"),Object(j["a"])(xt,vt,ht,!1,null,"15e1a8a8",null)),Ot=Tt.exports,Et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},It=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"live-emotions-explanation"}},[n("div",{attrs:{id:"text-content"}},[n("h2",[t._v("Live emotions")]),n("p",[t._v("\n      On blockgag you can use the brand new AI feature.\n      Blockgag algorithm can use video from your web camera (of course if you give access) to analyze facial\n      expressions and calculate the time of being happy on blockgag.\n      Note, that every video is private and is not sent anywhere.\n      Currently the live emotions algoithm can recognize happiness, sadness, surprise and anger.\n    ")]),n("a",{staticClass:"mdc-button mdc-button--raised",attrs:{href:"/#/posts/",id:"get-started-button"}},[n("div",{staticClass:"mdc-button__ripple"}),n("span",{staticClass:"mdc-button__label"},[t._v("\n        TRY BLOCKGAG\n        ")])])])])}],Ut=n("98c9");a["default"].use(Ut["a"]);var jt,Lt,Bt,Pt={created:function(){},methods:{}},At=Pt,Rt=(n("4a5d"),Object(j["a"])(At,Et,It,!1,null,"1a77f3cd",null)),Mt=Rt.exports,Ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{attrs:{id:"gh-icon"}},[a("a",{attrs:{href:"https://github.com/hatskier/blockgag.co",target:"_blank"}},[a("img",{attrs:{src:n("09d1")}})])]),a("p",[t._v("© 2019 blockgag.co")])])}],$t={},Dt=$t,Gt=(n("d904"),Object(j["a"])(Dt,Ft,Nt,!1,null,"51e7dfd8",null)),zt=Gt.exports,Jt={name:"Home",data:function(){return{modalContent:"first"}},props:{text:Number,img:String},components:{Splash:mt,Features:Ot,LiveEmotionsExplanation:Mt,Footer:zt},methods:{}},Vt=Jt,Ht=(n("37e7"),Object(j["a"])(Vt,rt,ct,!1,null,"c0b6832c",null)),qt=Ht.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"posts mdc-layout-grid"},[n("div",{staticClass:"mdc-layout-grid__inner"},[n("div",{staticClass:"mdc-layout-grid__cell--span-3"},[n("Tags")],1),n("div",{staticClass:"mdc-layout-grid__cell--span-6"},[n("div",{staticClass:"posts-block"},t._l(t.filteredPosts,function(t,e){return n("div",{key:e,staticClass:"post"},[n("Post",{attrs:{post:t}})],1)}),0)]),n("div",{staticClass:"mdc-layout-grid__cell--span-3"},[n("div",{staticClass:"live-emotions-block"},[n("LiveEmotions",{attrs:{enabled:t.State.liveEmotionsEnabled}})],1)])])])},Kt=[],Wt=(n("6762"),n("2fdb"),n("55dd"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categories-list-container"},[n("ul",{staticClass:"mdc-list"},[n("TagInTagList",{attrs:{title:"Hot",icon:"whatshot"}}),n("TagInTagList",{attrs:{title:"Trending",icon:"trending_up"}}),n("TagInTagList",{attrs:{title:"Fresh",icon:"query_builder"}})],1),n("p",{staticClass:"subheader"},[t._v("POPULAR")]),n("ul",{staticClass:"mdc-list"},[n("TagInTagList",{attrs:{title:"Funny",icon:"mood"}}),n("TagInTagList",{attrs:{title:"Blockstack",img:"../../public/blockstack-icon.png"}}),n("TagInTagList",{attrs:{title:"Memes",icon:"face"}}),n("TagInTagList",{attrs:{title:"GIFs",icon:"gif"}}),n("TagInTagList",{attrs:{title:"Gaming",icon:"videogame_asset"}})],1)])}),Qt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"mdc-list-item",class:{"mdc-list-item--selected":t.State.selectedTag==t.title},attrs:{tabindex:"0"},on:{click:function(e){return t.State.selectTag(t.title)}}},[a("span",{staticClass:"mdc-list-item__text"},[t.icon?a("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]):t._e(),t.img?a("img",{staticClass:"tag-img",attrs:{src:n("87e5")}}):t._e(),t._v("\n    "+t._s(t.title)+"\n  ")])])},Zt=[],te={data:function(){return{State:W}},props:{icon:String,title:String,img:String}},ee=te,ne=(n("d378"),Object(j["a"])(ee,Xt,Zt,!1,null,"4f6bf01f",null)),ae=ne.exports,ie={name:"Categories",data:function(){return{State:W}},props:{selected:String},components:{TagInTagList:ae}},se=ie,oe=(n("5235"),Object(j["a"])(se,Wt,Qt,!1,null,"64956bb8",null)),re=oe.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post mdc-elevation--z1"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.post.imgGaiaPublicUrl,expression:"post.imgGaiaPublicUrl"}],staticClass:"image-in-post"})])},le=[],ue={name:"Post",props:{post:Object}},de=ue,pe=(n("bb35"),Object(j["a"])(de,ce,le,!1,null,"583be159",null)),fe=pe.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.enabled?n("div",{staticClass:"live-emotions-container "},[n("video",{staticClass:"mdc-elevation--z1",attrs:{id:"video",width:"200",height:"150",autoplay:"",muted:""},domProps:{muted:!0}}),t.enabled?n("span",{attrs:{id:"expression-emoji"}},[t._v("\n    "+t._s(t.expressionEmoji)+"\n  ")]):t._e(),n("div",{staticClass:"mdc-elevation--z1",attrs:{id:"live-emotions-stats"}},[n("i",{staticClass:"material-icons centered",attrs:{id:"time-icon"}},[t._v("alarm")]),n("br"),n("h2",{staticClass:"centered"},[t._v("\n      "+t._s(t.happyTimeSeconds)+"\n    ")]),n("p",{staticClass:"centered",attrs:{id:"seconds-text"}},[t._v("seconds")]),n("p",{staticClass:"centered",attrs:{id:"happy-time-text"}},[t._v("Happy time on blockgag")])])]):t._e()},me=[],ve=(n("5df3"),n("ac6a"),n("ab39")),he=300;function be(t){return _e.apply(this,arguments)}function _e(){return _e=Object(u["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,jt=document.getElementById("video"),window.toastr.success("ML models loading started"),t.next=5,Ce();case 5:return t.next=7,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 7:Lt=t.sent,jt=document.getElementById("video"),jt.srcObject=Lt,setTimeout(function(){window.toastr.success("ML is ready. Emoji should show your emotions now")},200),Bt=setInterval(Object(u["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Se();case 2:n=t.sent,e(n);case 4:case"end":return t.stop()}},t)})),he),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),window.toastr.error("Video initialization failed :("),console.error(t.t0);case 18:case"end":return t.stop()}},t,null,[[0,14]])})),_e.apply(this,arguments)}function ye(){return ke.apply(this,arguments)}function ke(){return ke=Object(u["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Lt.getTracks().forEach(function(t){t.stop()}),clearInterval(Bt);case 2:case"end":return t.stop()}},t)})),ke.apply(this,arguments)}function Ce(){return we.apply(this,arguments)}function we(){return we=Object(u["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Loading ML models"),t.next=3,Promise.all([ve["c"].tinyFaceDetector.loadFromUri("/MLModels"),ve["c"].faceLandmark68Net.loadFromUri("/MLModels"),ve["c"].faceRecognitionNet.loadFromUri("/MLModels"),ve["c"].faceExpressionNet.loadFromUri("/MLModels")]);case 3:console.log("ML models loaded");case 4:case"end":return t.stop()}},t)})),we.apply(this,arguments)}function Se(){return xe.apply(this,arguments)}function xe(){return xe=Object(u["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ve["b"])(jt,new ve["a"]).withFaceLandmarks().withFaceExpressions();case 2:if(e=t.sent,!e||!e[0]){t.next=7;break}return t.abrupt("return",e[0].expressions);case 7:return t.abrupt("return",{});case 8:case"end":return t.stop()}},t)})),xe.apply(this,arguments)}function Te(t){var e=localStorage.happyTimeOnBlockgag;return t.happy>.4&&(localStorage.happyTimeOnBlockgag=(Number(e)||0)+he),localStorage.happyTimeOnBlockgag}var Oe={neutral:"😐",happy:{1:"🙂",2:"😊",3:"😃",4:"😄",5:"😁",6:"😆",7:"😅",8:"😂"},sad:{1:"😕",2:"😟",3:"😩"},angry:{1:"😠",2:"😤",3:"😡"},surprised:{1:"😮"}},Ee={props:{enabled:Boolean},data:function(){return{expressions:{},happyTimeSeconds:(localStorage.happyTimeOnBlockgag||0)/1e3}},computed:{expressionEmoji:function(){var t={happy:{.8:Oe.happy[8],.6:Oe.happy[7],.5:Oe.happy[5],.3:Oe.happy[2],.2:Oe.happy[1]},sad:{.5:Oe.sad[3]},angry:{.2:Oe.angry[3]},surprised:{.2:Oe.surprised[1]}};for(var e in t)for(var n in t[e])if(this.expressions[e]>n)return t[e][n];return Oe.neutral}},watch:{enabled:function(t){var e=this;t?(console.log("Starting video recording"),be(function(t){e.expressions=t;var n=Te(t);e.happyTimeSeconds=n/1e3})):(console.log("Finishing video recording"),ye())}}},Ie=Ee,Ue=(n("4227"),Object(j["a"])(Ie,ge,me,!1,null,null,null)),je=Ue.exports;function Le(t,e,n){var a=t[e];return t[e]=t[n],t[n]=a,t}var Be={name:"Posts",data:function(){return{posts:[],State:W}},props:{text:Number,img:String},components:{Tags:re,Post:fe,LiveEmotions:je},created:function(){var t=this;T.getAllPosts().then(function(e){t.posts=e})},computed:{filteredPosts:function(){if(this.posts&&this.posts.length){var t=JSON.parse(JSON.stringify(this.posts));t.sort(function(t,e){return e.createdAt-t.createdAt}),window.$("html, body").animate({scrollTop:0},"slow");var e=this.State.selectedTag;return e&&!["Hot","Trending","Fresh"].includes(e)?t.filter(function(t){return t.tags&&t.tags.includes(e)}):("Hot"==e&&t.length>7&&(t=Le(t,1,t.length-1),t=Le(t,2,t.length-2)),"Trending"==e&&t.length>7&&(t=Le(t,1,t.length-2),t=Le(t,2,t.length-1)),t)}return[]}}},Pe=Be,Ae=(n("6031"),Object(j["a"])(Pe,Yt,Kt,!1,null,"6d0a6008",null)),Re=Ae.exports,Me=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Fe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Post he")])])}],Ne={name:"Post",props:{text:Number,img:String}},$e=Ne,De=(n("3d50"),Object(j["a"])($e,Me,Fe,!1,null,"3b02af72",null)),Ge=De.exports,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"add-page-content"}},[n("div",{staticClass:"add-card"},[t.addedPostUrl?n("p",{staticClass:"centered"},[t._v("\n      Go back to the \n      "),n("a",{attrs:{href:"#/posts"}},[t._v("\n        Posts page\n      ")])]):t._e(),n("div",{staticClass:"mdc-layout-grid "},[n("div",{staticClass:"mdc-layout-grid__inner"},[n("div",{staticClass:"mdc-layout-grid__cell--span-12 mdc-elevation--z1"},["upload"==t.addingType?n("div",{staticClass:"file-upload-area"},[n("file-pond",{ref:"pond",attrs:{name:"my-pond","class-name":"my-pond","allow-multiple":!1,"label-idle":"Drop files here (or click to select)","accepted-file-types":"image/jpeg, image/png, image/gif",files:t.files},on:{addfile:t.onFileAdded}})],1):t._e(),"imgUrl"==t.addingType||"videoUrl"==t.addingType?n("div",{staticClass:"text-input-area"},[n("div",{staticClass:"mdc-text-field",attrs:{id:"link-field"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"mdc-text-field__input",attrs:{id:"link-paste-input",type:"text"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),n("label",{staticClass:"mdc-floating-label",attrs:{for:"link-paste-input"}},[t._v("\n                "+t._s(t.objectName)+" URL\n              ")]),n("div",{staticClass:"mdc-line-ripple"})])]):t._e(),n("div",{staticClass:"text-input-area"},[n("div",{staticClass:"mdc-text-field",attrs:{id:"description-field"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"mdc-text-field__input",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),n("label",{staticClass:"mdc-floating-label",attrs:{for:"description-field"}},[t._v("\n                Describe your post (optional)\n              ")]),n("div",{staticClass:"mdc-line-ripple"})])]),n("div",{attrs:{id:"tags-multiselect-container"}},[n("Multiselect",{attrs:{multiple:!0,"close-on-select":!0,"clear-on-select":!1,"preselect-first":!1,selectLabel:"",placeholder:"Select tags",options:t.availableTags},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1),n("div",{attrs:{id:"upload-button-container"}},[n("button",{staticClass:"mdc-button mdc-button--raised sign-in-button",attrs:{id:"upload-button"},on:{click:function(e){return t.uploadButtonClicked()}}},[n("div",{staticClass:"mdc-button__ripple"}),t._v("\n                UPLOAD\n            ")])])]),n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option",class:{"type-selected":"upload"==t.addingType},on:{click:function(e){return t.setType("upload")}}},[n("i",{staticClass:"material-icons"},[t._v("cloud_upload")]),n("span",[t._v("Upload file")])]),n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option",class:{"type-selected":"imgUrl"==t.addingType},on:{click:function(e){return t.setType("imgUrl")}}},[n("i",{staticClass:"material-icons"},[t._v("photo_size_select_actual")]),n("span",[t._v("Paste image URL")])]),t._m(0)])])])])},Je=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-layout-grid__cell--span-4 alternative-option"},[n("a",{attrs:{id:"link-to-meme-generator",target:"_blank",href:"https://memeful.com/generator"}},[n("i",{staticClass:"material-icons"},[t._v("pan_tool")]),n("span",[t._v("Make meme")])])])}],Ve=n("3bb7"),He={tags:[{title:"Funny",icon:"mood"},{title:"Blockstack",img:"../../public/blockstack-icon.png"},{title:"Memes",icon:"face"},{title:"GIFs",icon:"gif"},{title:"Animals",icon:"pets"},{title:"Gaming",icon:"videogame_asset"}]},qe=n("8e5f"),Ye=n.n(qe),Ke=n("1501"),We=n.n(Ke),Qe=(n("4ed3"),We()());function Xe(){setTimeout(function(){var t=document.querySelector("#description-field");t&&Ve["a"].attachTo(t);var e=document.querySelector("#link-field");e&&Ve["a"].attachTo(e)},100)}function Ze(t){window.toastr.success(t,"",{timeOut:"7000",closeButton:!0})}var tn={name:"Add",created:function(){T.isUserSignedIn(),Xe()},data:function(){return{addingType:"upload",textField:null,url:"",description:"",selectedTags:[],files:[],uploadedImgBlobUrl:"",addedPostUrl:""}},props:{text:Number,img:String},computed:{objectName:function(){return"videoUrl"==this.addingType?"video":"image"},availableTags:function(){return He.tags.map(function(t){return t.title})}},methods:{initMdcInputs:function(){Xe()},onFileAdded:function(t,e){t?(console.error(t),window.toastr.error("Error occured :(")):(this.uploadedImgBlobUrl=window.URL.createObjectURL(e.source),console.log("File uploaded: "+this.uploadedImgBlobUrl))},uploadButtonClicked:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return Ze("Loading file..."),t.prev=1,e="",e="upload"==this.addingType?this.uploadedImgBlobUrl:this.url,t.next=6,m.a.get(e,{responseType:"arraybuffer"});case 6:return n=t.sent,a=n.data,t.next=10,T.addNewPost({type:"img",originalUrl:this.url,data:a,tags:this.selectedTags,description:this.description},{onSavedToGaia:function(){Ze("Saved to gaia storage. Saving to radiks...")},onPostCreated:function(){Ze("Post added!")}});case 10:i=t.sent,console.log(n),this.addedPostUrl=i,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](1),window.toastr.error("There was a problem with file uploading :("),console.error(t.t0);case 19:case"end":return t.stop()}},t,this,[[1,15]])}));function e(){return t.apply(this,arguments)}return e}(),setType:function(t){this.addingType=t,this.initMdcInputs()}},components:{Multiselect:Ye.a,FilePond:Qe}},en=tn,nn=(n("f635"),Object(j["a"])(en,ze,Je,!1,null,"2bf75a69",null)),an=nn.exports;function sn(){return qt}a["default"].config.productionTip=!1,a["default"].use(i["a"]),a["default"].use(s["a"],{lazyComponent:!0,preLoad:5});var on=[{path:"/",component:sn()},{path:"/home",component:qt},{path:"/posts",component:Re},{path:"/posts/:category",component:Re},{path:"/post/:id",component:Ge},{path:"/add",component:an}],rn=new i["a"]({routes:on}),cn=new a["default"]({router:rn,render:function(t){return t(ot)}}).$mount("#app");e["default"]=cn},"5b27":function(t,e,n){},6:function(t,e){},6031:function(t,e,n){"use strict";var a=n("55e2"),i=n.n(a);i.a},"622f":function(t,e,n){},6898:function(t,e,n){},7:function(t,e){},"7b43":function(t,e,n){"use strict";var a=n("a392"),i=n.n(a);i.a},8:function(t,e){},"87e5":function(t,e,n){t.exports=n.p+"img/blockstack-icon.dc910bee.png"},"8a5f":function(t,e,n){"use strict";var a=n("92a9"),i=n.n(a);i.a},"92a9":function(t,e,n){},a392:function(t,e,n){},a455:function(t,e,n){},a721:function(t,e,n){},ac42:function(t,e,n){},b29f:function(t,e,n){"use strict";var a=n("6898"),i=n.n(a);i.a},bb35:function(t,e,n){"use strict";var a=n("a721"),i=n.n(a);i.a},c4b4:function(t,e,n){},d266:function(t,e,n){t.exports=n.p+"img/blockgag-logo.581582bc.png"},d378:function(t,e,n){"use strict";var a=n("d650"),i=n.n(a);i.a},d650:function(t,e,n){},d904:function(t,e,n){"use strict";var a=n("a455"),i=n.n(a);i.a},f635:function(t,e,n){"use strict";var a=n("3785"),i=n.n(a);i.a},ffbb:function(t,e,n){}});
//# sourceMappingURL=app.da2735b5.js.map